# CircularBuffer 클래스 구현 보고서

## 개요
본 보고서는 C++로 구현된 CircularBuffer 템플릿 클래스에 대한 설명입니다. CircularBuffer는 고정된 크기의 메모리 공간을 효율적으로 사용하는 자료구조로, 새로운 데이터가 추가될 때 가장 오래된 데이터부터 덮어쓰는 방식으로 동작합니다.

## 구현 내용

### 클래스 구조
```cpp
template <typename T>
class CircularBuffer {
private:
    std::vector<T> buffer;
    size_t head = 0;  // 첫 번째 요소 위치
    size_t tail = 0;  // 마지막 요소 다음 위치
    size_t max_size;  // 버퍼 최대 크기
    bool is_full = false;  // 버퍼가 가득 찼는지 여부

public:
    // 메서드들...
};
```

### 주요 멤버 변수
- `buffer`: 실제 데이터를 저장하는 std::vector 컨테이너
- `head`: 버퍼의 첫 번째 요소 위치를 가리키는 인덱스
- `tail`: 버퍼의 마지막 요소 다음 위치를 가리키는 인덱스
- `max_size`: 버퍼의 최대 크기
- `is_full`: 버퍼가 가득 찼는지 여부를 나타내는 플래그

### 주요 메서드
1. **생성자**: 지정된 용량으로 버퍼를 초기화합니다.
2. **push_back()**: 버퍼의 끝에 새로운 요소를 추가합니다. 버퍼가 가득 찬 경우 가장 오래된 데이터를 덮어씁니다.
3. **pop_front()**: 버퍼의 맨 앞 요소를 제거합니다.
4. **front()**: 버퍼의 맨 앞 요소를 반환합니다.
5. **back()**: 버퍼의 맨 뒤 요소를 반환합니다.
6. **size()**: 현재 버퍼에 저장된 요소의 개수를 반환합니다.
7. **capacity()**: 버퍼의 최대 용량을 반환합니다.
8. **empty()**: 버퍼가 비어있는지 확인합니다.

### 반복자 구현
CircularBuffer 클래스는 STL과 호환되는 반복자를 구현하여 표준 알고리즘과 함께 사용할 수 있습니다:
- `iterator` 내부 클래스: 순방향 반복자로 구현되어 있습니다.
- `begin()`: 버퍼의 첫 번째 요소를 가리키는 반복자를 반환합니다.
- `end()`: 버퍼의 마지막 요소 다음을 가리키는 반복자를 반환합니다.

## 알고리즘 설명

### 순환 버퍼 동작 원리
1. **초기 상태**: `head`와 `tail`이 모두 0을 가리키고, `is_full`은 false입니다.
2. **요소 추가**: `tail` 위치에 요소를 추가하고 `tail`을 증가시킵니다. `tail`이 버퍼 끝에 도달하면 0으로 돌아갑니다(순환).
3. **버퍼 가득 참**: `tail`이 `head`와 같아지면 버퍼가 가득 찬 것으로 판단합니다.
4. **요소 제거**: `head`를 증가시켜 맨 앞 요소를 제거합니다. `head`도 버퍼 끝에 도달하면 0으로 돌아갑니다.

### 크기 계산 로직
버퍼의 크기는 다음과 같이 계산됩니다:
- 버퍼가 가득 찬 경우: `max_size` 반환
- `tail >= head`인 경우: `tail - head` 반환
- `tail < head`인 경우: `max_size - (head - tail)` 반환

## 사용 예시
예시 코드는 온도 데이터를 저장하는 CircularBuffer를 생성하고, 다양한 작업을 수행합니다:
1. 5개의 온도 데이터 추가
2. 버퍼 크기, 용량, 비어있는지 여부 확인
3. 최대 온도값 찾기 (STL의 `std::max_element` 활용)
4. 평균 온도 계산 (STL의 `std::accumulate` 활용)
5. 가장 오래된 데이터와 가장 최근 데이터 확인

## 결론
구현된 CircularBuffer 클래스는 고정된 크기의 메모리를 효율적으로 사용하면서 FIFO(First-In-First-Out) 방식으로 데이터를 관리합니다. STL 호환 반복자를 제공하여 표준 알고리즘과 함께 사용할 수 있으며, 센서 데이터 수집과 같이 최근 N개의 데이터만 유지해야 하는 상황에 적합합니다.
